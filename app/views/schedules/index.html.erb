<p style="color: green"><%= notice %></p>

<div class="d-flex justify-content-between align-items-center mb-4">
  <h1>予定一覧</h1>
  <p class="text-secondary">本日の日付：<%= Date.current.strftime("%Y/%m/%d") %></p>
</div>

<table class="table table-hover border"> <thead class="table-dark">
    <tr>
      <th>ID</th>
      <th>タイトル</th>
      <th>開始日</th>
      <th>終了日</th>
      <th>終日</th>
      <th>更新日時</th>
      <th>アクション</th>
    </tr>
  </thead>
  <tbody>
    <% @schedules.each do |schedule| %>
      <tr>
        <td><%= schedule.id %></td>
        <td><%= schedule.title %></td>
        <td><%= schedule.start_date.strftime("%Y/%m/%d") %></td>
        <td><%= schedule.end_date.strftime("%Y/%m/%d") %></td>
        <td><%= schedule.is_all_day ? "○" : "" %></td>
        <td><%= schedule.updated_at.strftime("%Y/%m/%d %H:%M") %></td>
        <td>
          <%= link_to "詳細", schedule, class: "btn btn-sm btn-outline-primary" %>
          <%= link_to "編集", edit_schedule_path(schedule), class: "btn btn-sm btn-outline-success" %>
          <%= link_to "削除", schedule, data: { turbo_method: :delete, turbo_confirm: "予定を削除しますか？" }, class: "btn btn-sm btn-outline-danger" %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<div class="mt-3">
  <p class="fw-bold">予定の合計数：<span class="badge bg-primary text-wrap"><%= @schedules.count %></span></p>
</div>

<%= link_to "新規予定の追加", new_schedule_path, class: "btn btn-primary" %>